<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <button ion-button clear icon-only (click)="search()">
        <img class="icon" src="assets/imgs/search.png">
      </button>
    <button ion-button clear color="light" icon-only (click)="loadNotifications()">
        <img class="icon" src="assets/imgs/notify.png">
    </button>
    <ion-title><h1>Eventos UC3M</h1></ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
    <div *ngFor="let user of user$ |async ">{{currentUser(user)}}</div>
    <ion-card *ngFor="let event of events$ |async " class="advanced-background" >
      <ion-card-content *ngIf = "categorySelected(event.categories, user.categories)"> 
            <div class="card-title-only">
                    <ion-card-title style="font-size: 16px; font-weight: bold;"> {{event.name}}</ion-card-title>
            </div>
            <div style="display:inline-block;width: 39%;">
                <button ion-button color="none" icon-only (click)="shareEvent(event)">
                        <img class="icon" src="assets/imgs/share.png">
                    </button>
                <div *ngIf="isInFavorites(event)==false">
                    <button ion-button color="none" icon-only (click)="addFavorites(event)">
                    <img class="icon" src="assets/imgs/fav_off.png">
                    </button>
                </div>
                <div *ngIf="isInFavorites(event)==true">
                    <button ion-button  color="none" icon-only (click)="deleteFavorites(event)">
                    <img class="icon" src="assets/imgs/fav_on.png">
                    </button>
                </div>
            </div>
            <div (click)="loadEventDetail(event, user)">
                <img src={{event.photo}}>
                <div class="columna">
                    <div class="card-subtitle"><img class="little_icon" src="assets/imgs/place.png">{{event.campus}}</div>
                    <div class="card-subtitle"><img class="little_icon" src="assets/imgs/people.png">{{event.inscriptions}} inscritos</div>
                </div>
                <div class="columna">
                    <div class="card-subtitle"><img class="little_icon" src="assets/imgs/date.png">{{getDate(event.date).toLocaleDateString()}}</div>
                    <div class="card-subtitle"><img class="little_icon" src="assets/imgs/label.png">{{event.credits}} cr√©ditos</div>
                </div>
            </div>
        </ion-card-content>

    </ion-card>

</ion-content>
